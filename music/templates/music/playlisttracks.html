{% extends "./index.html" %}
{% load bootstrap4 %}

{% block content %}
<h2>Get tracks within a specified playlist</h2>
<div class='feature_details'>
    <h3>API Structure</h3>
    <p><strong>GET api/tracks/playlist/[playlist_id]></strong></p>
    <h3>About the API</h3>
    <p>This API returns a list of all tracks within a playlist, listed in order of descending popularity (the most popular song appears at the top). The track's name, artist, release date,
        and duration in milliseconds are returned.</p>
    <h3>Testing the API</h3>
    <p>As the name of the artist should be an exact match to the name in the database, I have provided a list of valid
        artist names below. Select 1 to test the API.</p>
        <p><strong>Playlist:</strong> {{playlistname}}</p>
        <p><a href='/playlists'>Back to list of playlists</a></p>
        <form action="/create_playlist/" method="post" class="form">
            {% csrf_token %}
            {% bootstrap_form form %}
            <input type="submit" value="Add Playlist">
        </form> 
        <hr>
        <table class="table-striped">
        <tr>
            <th style="padding: 10px;">Track Name</th>
            <th style="padding: 10px;">Artist</th>
            <th style="padding: 10px;">Date Released</th>
            <th style="padding: 10px;">Duration (in minutes)</th>
        </tr>
        {% for track in tracks %}
        <tr>
            <td style="padding: 10px;">{{track.name}}</a></td>
            <td style="padding: 10px;">{{track.artist}}</td>
            <td style="padding: 10px;">{{track.release_date}}</td>
            <td style="padding: 10px;">{{track.duration_ms}}</td>
        </tr>
        {% endfor %}
    </table>
</div>

{% endblock %}